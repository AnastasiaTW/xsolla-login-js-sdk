!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.XL=t()}}(function(){return function t(e,n,o){function i(r,a){if(!n[r]){if(!e[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var p=n[r]={exports:{}};e[r][0].call(p.exports,function(t){var n=e[r][1][t];return i(n?n:t)},p,p.exports,t,e,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(t,e,n){var o=function(t){var e=this;this.baseUrl="https://login.xsolla.com/",this.projectId=t,this.makeApiCall=function(t,n,o){var i=new XMLHttpRequest;i.open(t.method,e.baseUrl+t.endpoint,!0),i.onreadystatechange=function(){return 4!=i.readyState||200!=i.status?void o("error"):void n(i.responseText)},i.send(t.getArguments)}};o.prototype.getSocialsURLs=function(t,e){return this.makeApiCall({method:"GET",endpoint:"socials",getArguments:""},t,e)},o.prototype.loginPassAuth=function(t,e,n,o){return this.makeApiCall({method:"GET",endpoint:"loginpass",getArguments:"login="+t+"&pass="+e},n,o)},o.prototype.smsAuth=function(t,e,n){return this.makeApiCall({method:"GET",endpoint:"sms",getArguments:"phoneNumber="+t},e,n)},e.exports=o},{}],main:[function(t,e,n){function o(t){var e=this;if(!(this instanceof o))return new o(t);if(e._api=new i(t.projectId),e._api.getSocialsURLs(function(t){e._socialUrls=value},function(t){console.log(t)}),e._socialUrls={"sn-facebook":"https://facebook.com"},1==t.addHandlers)for(var n=e.getAllElementsWithAttribute("data-xl-auth"),s="",r="",a=0;a<n.length;a++){var u=n[a].attributes["data-xl-auth"].nodeValue.toString();u.startsWith("sn")?n[a].onclick=function(t){e.login({authType:u})}:"form-sms"==u||("form-login_pass"==u?n[a].onsubmit=function(t){t.preventDefault(),e.login({authType:"login-pass",login:s,pass:r})}:u.startsWith("input-")&&("input-login"==u?s="":"input-pass"==u&&(r="")))}}var i=t("xlapi.js");o.prototype.login=function(t,e){var n=this;t&&n._socialUrls&&t.authType&&(t.authType.startsWith("sn-")?window.open(n._socialUrls[t.authType]):"login-pass"==t.authType?n._api.loginPassAuth(t.login,t.pass,null,null):"sms"==t.authType?"phone"==smsAuthStep?n._api.smsAuth(t.phoneNumber,null,null):"code"==smsAuthStep:console.error("Unknown auth type"))},o.prototype.getAllElementsWithAttribute=function(t){for(var e=[],n=document.getElementsByTagName("*"),o=0,i=n.length;i>o;o++)null!==n[o].getAttribute(t)&&e.push(n[o]);return e},e.exports=o},{"xlapi.js":1}]},{},["main"])("main")});
//# sourceMappingURL=xl.min.js.map