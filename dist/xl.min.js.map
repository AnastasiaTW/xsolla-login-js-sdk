{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/xlapi.js","xl.min.js","src/main.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","XL","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"XLApi","projectId","baseUrl","makeApiCall","params","success","error","XMLHttpRequest","open","method","endpoint","onreadystatechange","readyState","status","responseText","send","getArguments","prototype","getSocialsURLs","loginPassAuth","login","pass","main","options","_api","_socialUrls","value","console","log","sn-facebook","prop","callback","authType","startsWith","xlapi.js"],"mappings":"CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,KAAAJ,EAAAK,GAAAV,MAAA,WAAA,MAAA,SAAAW,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAhB,GAAA,GAAAqB,OAAA,uBAAAL,EAAA,IAAA,MAAAhB,GAAAsB,KAAA,mBAAAtB,EAAA,GAAAuB,GAAAV,EAAAG,IAAAf,WAAAW,GAAAI,GAAA,GAAAQ,KAAAD,EAAAtB,QAAA,SAAAU,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAtB,QAAAU,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAf,QAAA,IAAA,GAAAmB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAjB,EAAAD,GCQA,GAAA0B,GAAA,SAAAC,GACA,GAAApB,GAAAC,IACAA,MAAAoB,QAAA,4BACApB,KAAAmB,UAAAA,EAEAnB,KAAAqB,YAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAnB,GAAA,GAAAoB,eACApB,GAAAqB,KAAAJ,EAAAK,OAAA5B,EAAAqB,QAAAE,EAAAM,UAAA,GACAvB,EAAAwB,mBAAA,WACA,MAAA,IAAAxB,EAAAyB,YAAA,KAAAzB,EAAA0B,WAEAP,GAAA,aAGAD,GAAAlB,EAAA2B,eAEA3B,EAAA4B,KAAAX,EAAAY,eAQAhB,GAAAiB,UAAAC,eAAA,SAAAb,EAAAC,GACA,MAAAxB,MAAAqB,aAAAM,OAAA,MAAAC,SAAA,UAAAM,aAAA,IAAAX,EAAAC,IAGAN,EAAAiB,UAAAE,cAAA,SAAAC,EAAAC,EAAAhB,EAAAC,GACA,MAAAxB,MAAAqB,aAAAM,OAAA,MAAAC,SAAA,YAAAM,aAAA,SAAAI,EAAA,SAAAC,GAAAhB,EAAAC,IAGA/B,EAAAD,QAAA0B,OCGMsB,MAAQ,SAAS9B,EAAQjB,EAAOD,GChCtC,QAAAS,GAAAwC,GACA,GAAA1C,GAAAC,IAEA,OAAAA,gBAAAC,IAIAF,EAAA2C,KAAA,GAAAxB,GAAA,KACAnB,EAAA2C,KAAAN,eAAA,SAAAlC,GACAH,EAAA4C,YAAAC,OACA,SAAA1C,GACA2C,QAAAC,IAAA5C,UAGAH,EAAA4C,aAAAI,cAAA,0BAVA,GAAA9C,GAAAwC,GAXA,GAAAvB,GAAAR,EAAA,WAwBAT,GAAAkC,UAAAG,MAAA,SAAAU,EAAAC,GACA,GAAAlD,GAAAC,IAEAgD,IAQAA,EAAAE,WACAF,EAAAE,SAAAC,WAAA,OACAtD,OAAA6B,KAAA3B,EAAA4C,YAAAK,EAAAE,WACA,cAAAF,EAAAE,SACAnD,EAAA2C,KAAAL,cAAAW,EAAAV,MAAAU,EAAAT,KAAA,KAAA,MACA,OAAAS,EAAAE,UAGAL,QAAArB,MAAA,uBAQA/B,EAAAD,QAAAS,ID6CGmD,WAAW,SAAS,SAAS","file":"xl.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * Created by a.korotaev on 24.06.16.\n */\n/**\n * Impelements Xsolla Login Api\n * @param projectId - project's unique identifier\n * @constructor\n */\nvar XLApi = function (projectId) {\n    var self = this;\n    this.baseUrl = 'https://login.xsolla.com/';\n    this.projectId = projectId;\n\n    this.makeApiCall = function (params, success, error) {\n        var r = new XMLHttpRequest();\n        r.open(params.method, self.baseUrl + params.endpoint, true);\n        r.onreadystatechange = function () {\n            if (r.readyState != 4 || r.status != 200)\n            {\n                error('error');\n                return;\n            }\n            success(r.responseText);\n        };\n        r.send(params.getArguments);\n    };\n};\n/**\n * Get all avialable social methods auth url\n * @param success - success callback\n * @param error - error callback\n */\nXLApi.prototype.getSocialsURLs = function (success, error) {\n    return this.makeApiCall({method: 'GET', endpoint: 'socials', getArguments: ''}, success, error);\n};\n\nXLApi.prototype.loginPassAuth = function (login, pass, success, error) {\n    return this.makeApiCall({method: 'GET', endpoint: 'loginpass', getArguments: 'login=' + login + '&pass=' + pass}, success, error);\n};\n\nmodule.exports = XLApi;\n",null,"/**\n * Created by a.korotaev on 24.06.16.\n */\n\nvar XLApi = require('xlapi.js');\n/**\n * Create an `Auth0` instance with `options`\n *\n * @class XL\n * @constructor\n */\nfunction XL (options) {\n    var self = this;\n    // XXX Deprecated: We prefer new Auth0(...)\n    if (!(this instanceof XL)) {\n        return new XL(options);\n    }\n\n    self._api = new XLApi(123);\n    self._api.getSocialsURLs(function (e) {\n        self._socialUrls = value;\n    }, function (e) {\n        console.log(e);\n    });\n\n    self._socialUrls = {'sn-facebook': 'https://facebook.com'};\n}\n\nXL.prototype.login = function (prop, callback) {\n    var self = this;\n\n    if (!prop) {\n        return;\n    }\n\n    /**\n     * props\n     * authType: sn-<social name>, login-pass, sms\n     */\n    if (prop.authType) {\n        if (prop.authType.startsWith('sn-')) {\n            window.open(self._socialUrls[prop.authType]);\n        } else if (prop.authType == 'login-pass') {\n            self._api.loginPassAuth(prop.login, prop.pass, null, null);\n        } else if (prop.authType == 'sms') {\n            \n        } else {\n            console.error('Unknown auth type');\n        }\n    }\n};\n\n\n\n\nmodule.exports = XL;"],"sourceRoot":"."}